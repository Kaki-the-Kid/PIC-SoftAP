window.gigyaAem=window.gigyaAem||{};
window.gigyaAem.functions=window.gigyaAem.functions||{};
window.gigyaAem.functions.isUserAccountActive=function(c){var d=false;
var a=false;
var b=false;
if(d||a||b){$(".gigya-error-msg").append("Account is banned or zapped or stale");
return
}};
window.gigyaAem.functions.raasOnLoginCallback=function(b){var c=window.location.href.split("?")[0],a=JSON.stringify(window.gigyaAem.functions.extractLoginData(b));
window.aem.showSiteLoader();
jQuery.ajax("/bin/gigya/login/j_gigya_login",{data:{j_gigya_uid:b.UID,j_gigya_uid_sig:b.UIDSignature,j_gigya_sig_time:b.signatureTimestamp,j_gigya_apikey:window.__gigyaApiKey,j_gigya_conf_name:window.__gigyaConfName,j_validate:true,do_remember:b.remember},dataType:"text",type:"POST",async:false,global:false,success:function(i,d,m){var e=JSON.parse(i);
if(e.authenticated){var f=parseQueryString(location.search.substring(1));
var g=f.app;
var j=f.model;
var n=f.callback;
var k=window.location.host;
var h=f.errorCode;
var l="";
if(typeof h!="undefined"&&h!=""){l=h.substr(0,h.indexOf(" "));
if(typeof aem.gigyaErrorCodes!="undefined"&&aem.gigyaErrorCodes.has(l)){digitalErrorFunction(aem.gigyaErrorCodes.get(l));
bootbox.alert(aem.gigyaErrorCodes.get(l))
}window.aem.removeErrorCodeFromURL(h)
}fetchAssetShareInformation();
if(typeof n=="undefined"||n==""){if(typeof f.resource!="undefined"&&f.resource!=""){n=f.resource
}else{if(document.referrer!=""&&g=="legacy"){n=document.referrer
}else{if(typeof e.redirectURL!=undefined&&e.redirectURL!=""){n=e.redirectURL
}}}}if((typeof g!="undefined"&&g=="crm")&&(typeof j!="undefined"&&j=="login")){gigyaSamlResponse(n)
}else{if(typeof n!="undefined"&&n!=""){window.open(n,"_self")
}else{if((typeof g!="undefined"&&g=="modeln")&&(typeof j!="undefined"&&j=="login")){modelNSamlResponse(n)
}else{if(window.CQ_Analytics&&CQ_Analytics.ProfileDataMgr){CQ_Analytics.ProfileDataMgr.loadProfile(e.userid);
CQ.shared.Util.reload()
}else{trackLoginSuccess();
window.location.reload(true)
}}}}trackLoginSuccess()
}},error:function(){console.log("Error login in user");
window.aem.hideSiteLoader();
gigya.accounts.logout()
}})
};
window.gigyaAem.functions.extractLoginData=function(b){var a={};
return a
};
function parseQueryString(d){var e=d.split("&");
var c={};
for(var b=0;
b<e.length;
b++){var f=[e[b].substr(0,e[b].indexOf("=")),e[b].substr(e[b].indexOf("=")+1)];
if(typeof c[f[0]]==="undefined"){c[f[0]]=decodeURIComponent(f[1])
}else{if(typeof c[f[0]]==="string"){var a=[c[f[0]],decodeURIComponent(f[1])];
c[f[0]]=a
}else{c[f[0]].push(decodeURIComponent(f[1]))
}}}return c
}function digitalErrorFunction(a){var b={};
window.digitalErrorData={error:a}
}function trackLoginSuccess(){if(typeof _satellite!="undefined"){_satellite.track("login success")
}};