window.aem=window.aem||{};
window.formRegister="";
window.aem.setProfilePreferencePopupFlag=function(){CQ_Analytics.ProfileDataMgr.setProperty("popupViewed",true)
};
window.aem.removeErrorCodeFromURL=function(b){var a=location.protocol+"//"+location.host+location.pathname;
if(b!=""){if(typeof(history.pushState)!="undefined"){var c={Page:"homepage",Url:a};
history.pushState(c,c.Page,c.Url)
}else{console.log("Browser does not support HTML5.")
}}};
window.aem.fireModelNSamlResponse=function(b,a,c){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true"){modelNSamlResponse(c)
}else{if(a=="login"){gigya.accounts.showScreenSet(aem.login.params)
}}};
window.aem.fireCRMSamlResponse=function(b,a,c){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true"){gigyaSamlResponse(c)
}else{if(a=="login"){gigya.accounts.showScreenSet(aem.login.params)
}}};
window.aem.hideSiteLoader=function(){if($("#loading").length>0&&$("#loading").css("display")!="none"){$("#loading").hide()
}};
window.aem.showSiteLoader=function(){if($("#loading").length>0&&$("#loading").css("display")=="none"){$("#loading").show()
}};
window.aem.getTodaysDate=function(){var c=new Date();
var b=c.getDate();
var f=c.getMonth()+1;
var a=c.getHours();
var e=c.getMinutes();
var g=c.getSeconds();
var h=c.getFullYear();
var d=c.getTime;
if(b<10){b="0"+b
}if(f<10){f="0"+f
}if(a<10){a="0"+a
}if(e<10){e="0"+e
}if(g<10){g="0"+g
}return h+"-"+f+"-"+b+"T"+a+":"+e+":"+g+"Z"
};
window.aem.getCampaignValue=function(f){if(f==undefined){return""
}var d=f.utm_source;
var g=f.utm_medium;
var c=f.utm_campaign;
var b=f.utm_term;
var a=f.utm_content;
var e="";
if(d!=undefined&&d!=""){e="utm_source="+d
}if(g!=undefined&&g!=""){if(e.length>0){e+="&"
}e+="utm_medium="+g
}if(c!=undefined&&c!=""){if(e.length>0){e+="&"
}e+="utm_campaign="+c
}if(b!=undefined&&b!=""){if(e.length>0){e+="&"
}e+="utm_term="+b
}if(a!=undefined&&a!=""){if(e.length>0){e+="&"
}e+="utm_content="+a
}return e
};
window.aem.actionBeforeRegisterScreenLoad=function(j){aem.customGigyaPopupCloseEvent();
var l=$('#gigya-register-form input[name="data.maxim.policyacceptancetime"]');
var h=$('#gigya-register-form input[name="data.maxim.eloquacampaignid"]');
var e=parseQueryString(location.search.substring(1));
if(typeof l!="undefined"){$(l).val(window.aem.getTodaysDate())
}if(typeof h!="undefined"){$(h).val(window.aem.getCampaignValue(e))
}$('select[name="data.maxim.country"]').on("change",function(){var o=window.aem.getCountryCode($(this).val());
if(o!=""){if($('input[name="data.maxim.countrycode"]').length>0){$('input[name="data.maxim.countrycode"]').val(o)
}}});
var n=e.app;
if(typeof n!="undefined"&&n=="modeln"){$('input[name="data.maxim.ismodelnuser"]').val("true")
}var f=getUrlLanguage();
if(f=="ja"){$('select[name="data.maxim.country"]').val("JP");
$('input[name="profile.locale"]').val("ja")
}else{if(f=="zh"){$('select[name="data.maxim.country"]').val("CN");
$('input[name="profile.locale"]').val("zh-cn")
}else{$('select[name="data.maxim.country"]').val("US");
$('input[name="profile.locale"]').val("en")
}}$('select[name="data.maxim.country"]').change();
if(digitalData!=undefined&&j.currentScreen=="gigya-register-screen"){digitalData.form={formName:"Create Account:New User Signup",event:"form-start"}
}var a=window.location.href;
var g="";
var d="";
var k="";
var m=window.location.host;
var c="";
if(a.includes("login.html")){var b=new URLSearchParams(window.location.search);
g=b.get("resource");
d=b.get("utm_source");
k=b.get("utm_campaign");
c=location.protocol+"//"+m+g;
if(d!=null){c=updateQueryStringParameter(c,"utm_source",d)
}if(k!=null){c=updateQueryStringParameter(c,"utm_campaign",k)
}}if(a.includes("en.html")&&a.includes("app=legacy")&&(""!=document.referrer)){c=document.referrer
}else{if(a.includes("en.html")&&a.includes("app=legacy")&&(""===document.referrer)){c=window.location.href
}}$('input[name="data.maxim.registerPageName"]').val(c)
};
window.aem.showProfilePopup=function(){if($("#myMaxDialog").length>0){$("#myMaxDialog").modal("hide")
}aem.showSiteLoader();
if(typeof aem!="undefined"&&typeof aem.profile!="undefined"&&typeof aem.profile.params!="undefined"){gigya.accounts.showScreenSet(aem.profile.params)
}};
window.aem.getCountryCode=function(b){var a="+1";
if(b!=""){jQuery.ajax("/bin/getcountrycode",{data:{country:b},dataType:"text",type:"POST",async:false,global:false,success:function(g,f,e){var c=JSON.parse(g);
if(c.country==b&&typeof c.country_code!="undefined"){var d=c.country_code;
if(d!=""){a="+"+d
}}},error:function(){console.log("System error occured. Not able to load country code. Default +1 will be applied")
}})
}return a
};
window.aem.checkUserAccountStatus=function(){var b=$("#gigya-login-form input[name=username]").val();
var a=true;
if(b!=""){jQuery.ajax("/bin/check_gigya_user_status",{data:{gigyaId:b},dataType:"text",type:"POST",async:false,global:false,success:function(g,f,e){var c=JSON.parse(g);
if(c.account_status){var d=c.account_status;
if(d.isbanned||d.isstale||d.iszapped){if($(".gigya-screen-dialog").length>-1){$(".gigya-screen-dialog").hide()
}var h="";
if(d.isbanned){h+="Your account is banned. Please contact maxim Support"
}else{if(d.iszapped){h+="Your account is zapped. Please contact maxim Support"
}else{if(d.isstale){h+="Your account is stale. Please contact maxim Support"
}}}digitalErrorFunction(h);
bootbox.alert(h);
a=false
}}},error:function(){digitalErrorFunction("System error occured. Please try again later");
bootbox.alert("System error occured. Please try again later")
}})
}return a
};
window.aem.checkAccountInfoResponse=function(a){if(a.errorCode==0){window.aem.loginProvider=a.loginProvider
}else{window.logout()
}};
window.aem.parseQueryString=function(d){var e=d.split("&");
var c={};
for(var b=0;
b<e.length;
b++){var f=[e[b].substr(0,e[b].indexOf("=")),e[b].substr(e[b].indexOf("=")+1)];
if(typeof c[f[0]]==="undefined"){c[f[0]]=decodeURIComponent(f[1])
}else{if(typeof c[f[0]]==="string"){var a=[c[f[0]],decodeURIComponent(f[1])];
c[f[0]]=a
}else{c[f[0]].push(decodeURIComponent(f[1]))
}}}return c
};
window.aem.showLegalConsentError=function(){if($(".legal-consent-error").length<=0){var b=$('form[id="gigya-profile-form"]').first(".gigya-row-layout");
var c="<div class='gigya-row-layout legal-consent-error'>"+CQ.I18n.get("acceptconsentmsg")+"</div>";
$(c).insertBefore(b)
}var d=$('.gigya-screen-dialog input[name="data.maxim.islegalagreedinprofile"]');
var a=$('.gigya-screen-dialog input[name="data.maxim.islegalagreedinprofile"]').parent();
if(typeof $(d)!="undefined"&&!$(a).hasClass("gigya-consent-checkbox-error")){$(a).addClass("gigya-consent-checkbox-error")
}};
window.aem.removeLegalConsentError=function(){var b=$('.gigya-screen-dialog input[name="data.maxim.islegalagreedinprofile"]');
var a=$('.gigya-screen-dialog input[name="data.maxim.islegalagreedinprofile"]').parent();
if(typeof $(b)!="undefined"&&$(a).hasClass("gigya-consent-checkbox-error")){$(a).removeClass("gigya-consent-checkbox-error")
}};
window.aem.afterScreenSetLoadEvent=function(d){if(typeof d!="undefined"&&d.screen=="gigya-complete-registration-screen"){var a=$('#gigya-complete-registration-screen input[name="profile.email"]').val();
if(typeof a!="undefined"&&a.indexOf("@maximintegrated.com")>0){var b=$('#gigya-complete-registration-screen input[name="data.subscribe"]');
var f=$('#gigya-complete-registration-screen input[name="data.maxim.company"]');
$(b).prop("checked","checked");
var e=$(f).val();
if(e==""){$(f).val("Maxim Integrated")
}}$('#gigya-complete-registration-screen select[name="data.maxim.country"]').on("change",function(){var g=window.aem.getCountryCode($(this).val());
if(g!=""){if($("#gigya-complete-registration-screen div.phone-prefix input").length>0){$('#gigya-complete-registration-screen input[name="data.maxim.countrycode"]').val(g)
}}});
var c=getUrlLanguage();
if(c=="ja"){$('#gigya-complete-registration-screen select[name="data.maxim.country"]').val("JP")
}else{if(c=="zh"){$('#gigya-complete-registration-screen select[name="data.maxim.country"]').val("CN")
}else{$('#gigya-complete-registration-screen select[name="data.maxim.country"]').val("US")
}}$('#gigya-complete-registration-screen select[name="data.maxim.country"]').change()
}};
window.aem.actionBeforeProfileScreenLoad=function(a){if(typeof a!="undefined"&&a.currentScreen=="gigya-update-profile-screen"){var j=CQ_Analytics.PersonalInfoStoreMgr.getProperty("islegalagreedinprofile");
if(j!=""&&j!="true"){aem.showLegalConsentError();
$(".gigya-screen-dialog .gigya-screen-dialog-close").css("visibility","hidden");
window.addEventListener("keyup",function(m){m.stopPropagation()
},true)
}else{aem.customGigyaPopupCloseEvent()
}var g=$('#gigya-profile-form input[name="data.maxim.profilemodifycount"]');
if(typeof g!="undefined"){var e="",d=1;
if(typeof a!="undefined"&&typeof a.data!="undefined"&&typeof a.data.maxim!="undefined"&&typeof a.data.maxim.profilemodifycount!="undefined"){e=a.data.maxim.profilemodifycount
}if(e==""){$(g).val(d)
}else{$(g).val(parseInt(e)+1)
}}if(typeof aem.loginProvider!="undefined"&&aem.loginProvider!="site"){if($(".gigya-screen-dialog .gigya-profile-form").length>0){var l=$(".gigya-screen-dialog .gigya-profile-form").find("[data-switch-screen='gigya-change-password-screen']");
if($(l).length>0){$(l).css("display","none")
}}}$('#gigya-profile-form input[name="data.maxim.islegalagreedinprofile"]').on("change",function(){if(this.checked==false){aem.showLegalConsentError()
}else{window.aem.removeLegalConsentError()
}});
$('#gigya-profile-form select[name="data.maxim.country"]').on("change",function(){var m=window.aem.getCountryCode($(this).val());
if(m!=""){if($("#gigya-profile-form div.phone-prefix input").length>0){$('#gigya-profile-form input[name="data.maxim.countrycode"]').val(m)
}}});
$('#gigya-profile-form select[name="data.maxim.country"]').change();
var b=[["--Select--","na"],["Design Engineer","design_engineer"],["Electrical Engineer","electrical_engineer"],["Hardware Engineer","hardware_engineer"],["Electronic Engineer","electronic_engineer"]];
var f=[["--Select--","na"],["Firmware Engineer","firmware_engineer"],["Application Engineer","application_engineer"]];
var k=$('#gigya-profile-form select[name="data.maxim.jobrole"]')[0];
var h=$('#gigya-profile-form select[name="data.maxim.jobtitle"]')[0];
$(k).on("change",function(){switch(this.value){case"engineer_technical":$(h).parent(".gigya-composite-control-dropdown").css("display","block");
var m=$(h).val();
h.options.length=0;
for(i=0;
i<b.length;
i++){window.aem.createOption(h,b[i][0],b[i][1])
}var n=b.filter(function(o){return o[1]==m
}).length>0?true:false;
if(n){$(h).val(m)
}else{$(h).val("na")
}break;
case"software":$(h).parent(".gigya-composite-control-dropdown").css("display","block");
var m=$(h).val();
h.options.length=0;
for(i=0;
i<f.length;
i++){window.aem.createOption(h,f[i][0],f[i][1])
}var n=f.filter(function(o){return o[1]==m
}).length>0?true:false;
if(n){$(h).val(m)
}else{$(h).val("na")
}break;
default:h.value="na";
$(h).parent(".gigya-composite-control-dropdown").css("display","none");
break
}});
$('#gigya-profile-form select[name="data.maxim.jobrole"]').change();
if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true&&CQ_Analytics.PersonalInfoStoreMgr.getProperty("email").indexOf("@maximintegrated.com")===-1){}else{$(".maximremovesection").remove()
}var c=getUrlLanguage();
if(c=="ja"){$('#gigya-update-profile-screen input[name="profile.locale"]').val("ja")
}else{if(c=="zh"){$('#gigya-update-profile-screen input[name="profile.locale"]').val("zh-cn")
}else{$('#gigya-update-profile-screen input[name="profile.locale"]').val("en")
}}}};
window.aem.createOption=function(d,c,b){var a=document.createElement("option");
a.value=b;
a.text=c;
d.options.add(a)
};
window.aem.gigyaProfileUpdate=function(c){if(c.response.errorCode===0){if(typeof c.data.maxim.islegalagreedinprofile!="undefined"&&c.data.maxim.islegalagreedinprofile==true){bootbox.alert(CQ.I18n.get("gigyaProfileSavedSuccessfully"))
}else{window.logout();
return
}var e=c.profile.firstName;
var f=c.profile.lastName;
var l=c.data.maxim.company;
var d=c.data.maxim.jobrole;
var h=c.data.maxim.jobtitle;
var m=c.data.maxim.phone;
var a=c.data.maxim.country;
var k=c.profile.photoURL;
var j=c.data.maxim.islegalagreedinprofile;
var g=CQ_Analytics.PersonalInfoStoreMgr.getProperty("authorizableId");
var b="authorizableId="+encodeURIComponent(g);
if(typeof e!="undefined"&&e!=""){b+="&"+encodeURIComponent("profile/givenName")+"="+encodeURIComponent(e)
}if(typeof f!="undefined"&&f!=""){b+="&"+encodeURIComponent("profile/familyName")+"="+encodeURIComponent(f)
}if(typeof l!="undefined"&&l!=""){b+="&"+encodeURIComponent("profile/company")+"="+encodeURIComponent(l)
}if(typeof d!="undefined"&&d!=""){b+="&"+encodeURIComponent("profile/role")+"="+encodeURIComponent(d)
}if(typeof h!="undefined"&&h!=""){b+="&"+encodeURIComponent("profile/roleTitle")+"="+encodeURIComponent(h)
}if(typeof m!="undefined"&&m!=""){b+="&"+encodeURIComponent("profile/phone")+"="+encodeURIComponent(m)
}if(typeof a!="undefined"&&a!=""){b+="&"+encodeURIComponent("profile/country")+"="+encodeURIComponent(a)
}if(typeof k!="undefined"&&k!=""){b+="&"+encodeURIComponent("profile/avatar")+"="+encodeURIComponent(k)
}if(typeof j!="undefined"&&j!=""){b+="&"+encodeURIComponent("profile/islegalagreedinprofile")+"="+encodeURIComponent(j)
}jQuery.ajax({url:"/bin/AccountModificationServlet",type:"POST",contentType:"application/x-www-form-urlencoded",data:b,success:function(n){if(n.status){if(CQ_Analytics.PersonalInfoStoreMgr&&typeof personalInfoLink!="undefined"&&typeof personalInfoLink.url!="undefined"){CQ_Analytics.PersonalInfoStoreMgr.init(personalInfoLink.url,getProfileFieldValues)
}if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("avatar")!=""){$("#myMaximLinkImg #mymi-icon").attr("src",CQ_Analytics.PersonalInfoStoreMgr.getProperty("avatar"))
}var o=getUrlCountry();
if(o=="en"||o=="jp"){$(".myMaximSpan").html(CQ_Analytics.PersonalInfoStoreMgr.getProperty("givenName")+" "+CQ_Analytics.PersonalInfoStoreMgr.getProperty("familyName")).attr("style","text-transform:capitalize")
}else{$(".myMaximSpan").html(CQ_Analytics.PersonalInfoStoreMgr.getProperty("familyName")+" "+CQ_Analytics.PersonalInfoStoreMgr.getProperty("givenName")).attr("style","text-transform:capitalize")
}}else{alert(n.error)
}},error:function(o,n){if(o.status===0){alert("Not connect. Verify Network.")
}else{if(o.status==404){alert("Requested page not found. [404]")
}else{if(o.status==500){alert("Internal Server Error [500].")
}else{if(n==="parsererror"){alert("Requested JSON parse failed.")
}else{if(n==="timeout"){alert("Time out error.")
}else{if(n==="abort"){alert("Ajax request aborted.")
}else{alert("Uncaught Error: "+o.responseText)
}}}}}}}})
}};
window.aem.customGigyaPopupCloseEvent=function(){$("body #gigya-screen-dialog-page-overlay").click(function(a){if($(this).parent(".gigya-screen-dialog").length>-1){$(this).parent(".gigya-screen-dialog").hide()
}aem.hideSiteLoader()
})
};
window.aem.sendResetMailIfRequired=function(f){if(f.response){var b=f.response;
if(b.errorCode){var g=b.errorCode;
var d=window.aem.parseQueryString(location.search.substring(1));
var a=d.apiKey;
var c=d.id;
if(a!=undefined&&a!=""&&c!=undefined&&c!=""&&g==403025){jQuery.ajax({url:"/bin/sendResetPasswordLink",type:"POST",data:"apiKey="+encodeURIComponent(a)+"&uid="+encodeURIComponent(c),success:function(e){if(e){console.log(e)
}},error:function(h,e){console.log("System error occured")
}})
}}}};
window.aem.actionBeforeLoginScreenLoad=function(){window.aem.customGigyaPopupCloseEvent();
var a=$('#gigya-login-form a[data-switch-screen = "gigya-register-screen"]');
if(typeof a!=undefined){$(a).attr("data-switch-screen","");
$(a).click(function(){aem.hideSiteLoader();
if($(this).parent(".gigya-screen-dialog").length>-1){$(this).parent(".gigya-screen-dialog").hide()
}$(".register-button").click()
})
}};
window.aem.actionBeforeEmbedLoginScreenLoad=function(){var a=getUrlLanguage();
if($("#embedContainer .embed-screen-reg-css").length>0){$(".embed-screen-reg-css").attr("data-switch-screen","");
$("#embedContainer .embed-screen-reg-css").click(function(){trackRegistrationStart();
if(a=="zh"){gigya.accounts.showScreenSet(aem.embedRegisterForChina.params)
}else{gigya.accounts.showScreenSet(aem.embedRegister.params)
}})
}};
window.aem.afterRegisterFormSubmit=function(a){if(digitalData.form!=undefined&&a.screen=="gigya-register-screen"){digitalData.form.event="form-complete";
trackRegistrationEnd()
}};
window.aem.showRegisterScreenSet=function(){trackRegistrationStart();
var a=getUrlLanguage();
if(a=="zh"){gigya.accounts.showScreenSet(aem.registerForChina.params)
}else{gigya.accounts.showScreenSet(aem.register.params)
}};
window.aem.gigyaRegisterScreen=function(c,b,g){var f={};
if(c.email===""){f.email=CQ.I18n.get("gigyaValidationsEmailRequired")
}if(c.email!=""&&c.email.toLowerCase().endsWith("@maximintegrated.com")){f.email=CQ.I18n.get("gigyaValidationsInternalUser")
}if(c["profile.firstName"]===""){f["profile.firstName"]=CQ.I18n.get("gigyaValidationsFirstNameRequired")
}if(c["profile.lastName"]===""){f["profile.lastName"]=CQ.I18n.get("gigyaValidationsLastNameRequired")
}if(c["data.maxim.company"]===""){f["data.maxim.company"]=CQ.I18n.get("gigyaValidationsCompanyRequired")
}var a=/^(?!0+$)[0-9][0-9]{6,15}$/;
if(c["data.maxim.phone"]!=""&&!c["data.maxim.phone"].match(a)){f["data.maxim.phone"]=CQ.I18n.get("gigyaValidationsPhoneNumberRestriction")
}var e=/^[0-9]{1,10}$/;
if(c["data.maxim.phoneextension"]!=""&&!c["data.maxim.phoneextension"].match(e)){f["data.maxim.phoneextension"]=CQ.I18n.get("gigyaValidationsExtensionRestriction")
}var d=/(?=^.{6,}$)(?=.*\d)(?=.*[!@#$%^&*]+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
if(c.password!=""&&!c.password.match(d)){f.password=CQ.I18n.get("gigyaValidationsPasswordRestriction1")+CQ.I18n.get("gigyaValidationsPasswordRestriction2")
}return f
};
window.aem.registrationNocaptcha=function(c,b,f){var e={};
var d=/(?=^.{6,}$)(?=.*\d)(?=.*[!@#$%^&*]+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
if(c.password!=""&&!c.password.match(d)){e.password=CQ.I18n.get("gigyaValidationsPasswordRestriction1")+CQ.I18n.get("gigyaValidationsPasswordRestriction2")
}var a=/^(?!0+$)[0-9][0-9]{6,15}$/;
if(c["data.maxim.phone"]!=""&&!c["data.maxim.phone"].match(a)){e["data.maxim.phone"]=CQ.I18n.get("gigyaValidationsPhoneNumberRestriction")
}return e
};
window.aem.gigyaLoginScreen=function(b,a,d){var c={};
if(b.loginID===""){c.loginID=CQ.I18n.get("gigyaValidationsEmailRequired")
}if(b.loginID!=""&&b.loginID.toLowerCase().endsWith("@maximintegrated.com")){c.loginID=CQ.I18n.get("gigyaValidationsLoginInternalUser")
}return c
};
aem.register=aem.register||{};
aem.registerForChina=aem.registerForChina||{};
aem.embedRegister=aem.embedRegister||{};
aem.embedRegisterForChina=aem.embedRegisterForChina||{};
aem.login=aem.login||{};
aem.resetpassword=aem.resetpassword||{};
aem.profile=aem.profile||{};
aem.register.params={screenSet:"Default-RegistrationLogin",startScreen:"gigya-register-screen",onAfterSubmit:aem.afterRegisterFormSubmit,onHide:aem.hideSiteLoader,onAfterScreenLoad:aem.actionBeforeRegisterScreenLoad};
aem.registerForChina.params={screenSet:"Default-RegistrationLogin",startScreen:"registration-nocaptcha",onHide:aem.hideSiteLoader,onAfterSubmit:aem.afterRegisterFormSubmit,onAfterScreenLoad:aem.actionBeforeRegisterScreenLoad};
aem.embedRegister.params={screenSet:"Embed-Screenset",startScreen:"embed-gigya-register-screen",onHide:aem.hideSiteLoader,onAfterSubmit:aem.afterRegisterFormSubmit,onAfterScreenLoad:aem.actionBeforeRegisterScreenLoad,containerID:"embedContainer"};
aem.embedRegisterForChina.params={screenSet:"Embed-Screenset",startScreen:"embed-gigya-register-screen-nocaptcha",onAfterSubmit:aem.afterRegisterFormSubmit,onAfterScreenLoad:aem.actionBeforeRegisterScreenLoad,containerID:"embedContainer"};
aem.login.params={screenSet:"Default-RegistrationLogin",onAfterScreenLoad:aem.actionBeforeLoginScreenLoad,onHide:aem.hideSiteLoader};
aem.resetpassword.params={screenSet:"Default-RegistrationLogin",startScreen:"gigya-reset-password-screen",onAfterScreenLoad:aem.customGigyaPopupCloseEvent,onAfterSubmit:aem.sendResetMailIfRequired,onHide:aem.hideSiteLoader};
aem.profile.params={screenSet:"Default-ProfileUpdate",startScreen:"gigya-update-profile-screen",onAfterSubmit:window.aem.gigyaProfileUpdate,onAfterScreenLoad:window.aem.actionBeforeProfileScreenLoad,onHide:aem.hideSiteLoader};
var isProfilePage=$("#gigya-aem-update-profile").length>0?true:false;
if((CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true"||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true)&&(CQ_Analytics.PersonalInfoStoreMgr.getProperty("islegalagreedinprofile")!=""&&CQ_Analytics.PersonalInfoStoreMgr.getProperty("islegalagreedinprofile")!="true")){isProfilePage=true
}if(!aem.gigyaErrorCodes){aem.gigyaErrorCodes=new Map()
}aem.gigyaErrorCodes.set("403002",CQ.I18n.get("403002"));
aem.gigyaErrorCodes.set("403041",CQ.I18n.get("403041"));
aem.gigyaErrorCodes.set("403120",CQ.I18n.get("403120"));
aem.gigyaErrorCodes.set("400003",CQ.I18n.get("emailalreadyexists"));
aem.gigyaErrorCodes.set("403025","Link expired.New Password reset link have been sent again.");
window.__gigyaConf=window.__gigyaConf||{};
window.__gigyaConf.customLang={password_must_contain_at_least:CQ.I18n.get("gigyaValidationsPasswordRestriction1"),account_is_disabled:CQ.I18n.get("403041"),num_characters_total:CQ.I18n.get("gigyaValidationsPasswordRestriction2"),password_does_not_meet_complexity_requirements:" ",this_field_is_required:CQ.I18n.get("thisfieldrequiredText"),email_address_is_invalid:CQ.I18n.get("gigyaValidationsEmailNotValid"),edit:CQ.I18n.get("edit"),profilePhoto_update:CQ.I18n.get("Update-Photo"),invalid_password_reset_token:CQ.I18n.get("gigyaValidationsResetPasswordError")};
window.__gigyaConf.validation={"gigya-register-screen":window.aem.gigyaRegisterScreen,"registration-nocaptcha":window.aem.registrationNocaptcha,"embed-gigya-register-screen":window.aem.gigyaRegisterScreen,"embed-gigya-register-screen-nocaptcha":window.aem.registrationNocaptcha,"gigya-change-password-screen":function(b,a,e){var d={};
var c=/(?=^.{6,}$)(?=.*\d)(?=.*[!@#$%^&*]+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
if(b.newPassword!=""&&!b.newPassword.match(c)){d.newPassword=CQ.I18n.get("gigyaValidationsPasswordRestriction1")+CQ.I18n.get("gigyaValidationsPasswordRestriction2")
}return d
},"gigya-reset-password-screen":function(b,a,e){var d={};
var c=/(?=^.{6,}$)(?=.*\d)(?=.*[!@#$%^&*]+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
if(b.newPassword!=""&&!b.newPassword.match(c)){d.newPassword=CQ.I18n.get("gigyaValidationsPasswordRestriction1")+CQ.I18n.get("gigyaValidationsPasswordRestriction2")
}return d
},"gigya-login-screen":window.aem.gigyaLoginScreen,"embed-gigya-login-screen":window.aem.gigyaLoginScreen,"gigya-update-profile-screen":function(c,b,e){var d={};
if(c.email===""){d.email=CQ.I18n.get("gigyaValidationsEmailRequired")
}if(c["profile.firstName"]===""){d["profile.firstName"]=CQ.I18n.get("gigyaValidationsFirstNameRequired")
}if(c["profile.lastName"]===""){d["profile.lastName"]=CQ.I18n.get("gigyaValidationsLastNameRequired")
}if(c["data.maxim.company"]===""){d["data.maxim.company"]=CQ.I18n.get("gigyaValidationsCompanyRequired")
}var a=/^[1-9][0-9]{6,15}$/;
if(c["data.maxim.phone"]!=""&&!c["data.maxim.phone"].match(a)){d["data.maxim.phone"]=CQ.I18n.get("gigyaValidationsPhoneNumberRestriction")
}return d
}};
$(window).bind("load",function(){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true"){gigya.accounts.getAccountInfo({callback:window.aem.checkAccountInfoResponse})
}window.aem.loginProvider="";
var c=window.aem.parseQueryString(location.search.substring(1));
var d=c.app;
var h=c.model;
var m=c.callback;
var k=window.location.host;
if(typeof m=="undefined"||m==""){if(typeof c.resource!="undefined"&&c.resource!=""){m=c.resource
}else{if(document.referrer!=""&&d=="legacy"){m=document.referrer
}}}var e=c.errorCode;
var l="";
var b=false;
$("#myMaximLoginDiv .register-button").click(window.aem.showRegisterScreenSet);
$("#myMaximLoginDl .register-button").click(window.aem.showRegisterScreenSet);
if(typeof d!="undefined"&&typeof h!="undefined"){if(typeof m!="undefined"&&m!=""&&m.match(/http/g)){while(m.indexOf("://")==-1){m=decodeURIComponent(m)
}}if(d=="crm"){if(h=="login"){window.aem.fireCRMSamlResponse(d,h,m);
b=true
}if(h=="logout"&&(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true")){if(typeof m!="undefined"){window.logout(m)
}else{window.logout()
}}}if(d=="modeln"&&typeof h!="undefined"){if(h=="login"){window.aem.fireModelNSamlResponse(d,h,m);
b=true
}if(h=="logout"&&(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true")){if(typeof m!="undefined"){window.logout(m)
}else{window.logout()
}}if(h=="register"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===false||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="false"){b=true;
var g=getUrlLanguage();
trackRegistrationStart();
if(g=="zh"){gigya.accounts.showScreenSet(aem.registerForChina.params)
}else{gigya.accounts.showScreenSet(aem.register.params)
}}}}if(d=="web"){if(h=="pwdreset"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===false||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="false"){b=true;
gigya.accounts.showScreenSet(aem.resetpassword.params)
}}if(h=="login"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===false||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="false"){b=true;
gigya.accounts.showScreenSet(aem.login.params)
}else{if(typeof m!="undefined"){window.open(m,"_self")
}}}if(h=="register"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===false||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="false"){b=true;
var g=getUrlLanguage();
trackRegistrationStart();
if(g=="zh"){gigya.accounts.showScreenSet(aem.registerForChina.params)
}else{gigya.accounts.showScreenSet(aem.register.params)
}}}if(h=="profile"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true"){b=true;
gigya.accounts.showScreenSet(aem.profile.params)
}}if(h=="logout"&&(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true")){if(typeof m!="undefined"){window.logout(m)
}else{window.logout()
}}}if(d=="legacy"){if(h=="login"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===false||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="false"){b=true;
gigya.accounts.showScreenSet(aem.login.params)
}else{if(typeof m!="undefined"){window.open(m,"_self")
}}}if(h=="register"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===false||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="false"){b=true;
var g=getUrlLanguage();
trackRegistrationStart();
if(g=="zh"){gigya.accounts.showScreenSet(aem.registerForChina.params)
}else{gigya.accounts.showScreenSet(aem.register.params)
}}}if(h=="profile"){if(CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true"){b=true;
gigya.accounts.showScreenSet(aem.profile.params)
}}}}if(b){window.aem.showSiteLoader()
}if((CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)===true||CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn",true)=="true")&&!isProfilePage){var a=CQ_Analytics.PersonalInfoStoreMgr.getProperty("loginCount");
var j=CQ_Analytics.PersonalInfoStoreMgr.getProperty("email");
var f=CQ_Analytics.ProfileDataMgr.getProperty("popupViewed");
if(a=="1"&&j.indexOf("@maximintegrated.com")==-1&&(f==""||(f!=""&&f==false))){successfulSignUp();
window.aem.showProfilePopup();
window.aem.setProfilePreferencePopupFlag()
}if(a=="2"&&j.indexOf("@maximintegrated.com")==-1&&(f==""||(f!=""&&f==false))){if($("#preferencesModal").length>0){window.aem.showSiteLoader();
$("#preferencesModal").modal("show");
window.aem.hideSiteLoader();
window.aem.setProfilePreferencePopupFlag()
}}}if(isProfilePage){window.aem.showProfilePopup()
}$("#myMaximLoginDiv").click(function(){window.aem.showSiteLoader()
})
});
function digitalErrorFunction(a){var b={};
window.digitalErrorData={error:a}
}function updateQueryStringParameter(c,a,d){var b=new RegExp("([?&])"+a+"=.*?(&|$)","i");
var e=c.indexOf("?")!==-1?"&":"?";
if(c.match(b)){return c.replace(b,"$1"+a+"="+d+"$2")
}else{return c+e+a+"="+d
}}function trackRegistrationStart(){window.formRegister="form-started"
}function successfulSignUp(){if(typeof _satellite!="undefined"){_satellite.track("usersignup")
}}function trackRegistrationEnd(){if(typeof _satellite!="undefined"){_satellite.track("form:end")
}};